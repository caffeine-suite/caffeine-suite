import &ArtFoundation

->
  @rule
    _:            '/ +/ comment?'
    end:          "lineEndComment"

    comment:
      {} pattern: "/##[^\n]*/ unparsedBlock*"
      {} pattern: "/#(?!#)[^\n]*/"

    _end: /( *(\n|;|$))+/

    lineStartComment: "comment _end" "_end"
    lineEndComment:   "_? comment? _end lineStartComment*"

    {} getPresent: -> false
