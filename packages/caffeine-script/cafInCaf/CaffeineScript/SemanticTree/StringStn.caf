import &ArtFoundation, &Lib

class StringStn extends &BaseStn

  toJs: ->
    escapeJavascriptString
      deescapeSpaces @value

    .replace /\\\\/g, '\\'


  compactNewLines: ->
    @props.value = @value.replace /\ *\n */g, " "

  trimRight: -> @props.value = @value.trimRight()

  @getter
    value: -> @props.value

  toInterpolatedJsStringPart: ->
    deescapeSpaces escapeUnescaped
      escapeMustEscapes @value
      "`$\n"