deescapeSpaces: (string) -> string.replace
  ///
    (?:^|[^\\])
    ((\\\\)*)
    (\\\ )
  ///g
  '$1 '

escapeNewLines: (string) -> string.replace /\n/g,  "\\n"

escapeUnEscapedQuotes: (string, quote = '"') ->
  string.replace
    RegExp "([^#{quote}\\\\]*(?:\\\\.[^#{quote}\\\\]*)*)#{quote}", "g"
    "$1#{quote}"
