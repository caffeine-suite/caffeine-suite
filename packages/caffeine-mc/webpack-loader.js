// Generated by CoffeeScript 1.11.1
(function() {
  var CaffeineMc, loaderUtils, log;

  CaffeineMc = require('./index');

  loaderUtils = require('loader-utils');

  log = require('art-standard-lib').log;

  module.exports = function(source) {
    var e, result, sourceFile, sourceMap;
    if (typeof this.cacheable === "function") {
      this.cacheable();
    }
    sourceFile = loaderUtils.getRemainingRequest(this);
    try {
      result = CaffeineMc.FileCompiler.compileFileSync(sourceFile, {
        source: source,
        debug: this.debug,
        prettier: true
      });
    } catch (error) {
      e = error;
      log.error({
        "CaffeineMc error": e
      });
      throw e;
    }
    sourceMap = null;
    return this.callback(null, result.compiled.js, sourceMap);
  };

  module.exports.seperable = true;

}).call(this);
