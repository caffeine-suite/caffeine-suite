"use strict"
let Caf = require('caffeine-script-runtime');
Caf.defMod(module, () => {return Caf.importInvoke(["isClass", "log", "Function"], [global, require('art-standard-lib')], (isClass, log, Function) => {let Repl; return Repl = Caf.defClass(class Repl extends Object {}, function(Repl, classSuper, instanceSuper) {this.caffeineEightRepl = function(parser, options) {let realRequire; if (isClass(parser)) {parser = new parser;}; realRequire = eval("require"); try {realRequire("colors");} catch (error1) {}; if (Caf.exists(options) && options.load) {log(`TODO: load, parse and evaluate these files: ${Caf.toString(options.load.join(", "))}`);}; log("START"); return realRequire("repl").start({prompt: `${Caf.toString(parser.getClassName())}> `.grey, eval: (command, context, filename, callback) => {let result, parsed, error; return (() => {try {result = parsed = parser.parse(command.trim()); return (() => {try {log((Caf.is(parsed.evaluate, Function)) ? parsed.evaluate() : parsed); return callback();} catch (error2) {error = error2; return callback(error);};})();} catch (error3) {error = error3; log(parser.getParseFailureInfo({error, color: [true, Caf.exists(options) && options.verbose]}).replace("<HERE>", ("<HERE>").red)); return callback();};})();}});};});});});
//# sourceMappingURL=Repl.js.map
