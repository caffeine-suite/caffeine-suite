"use strict"
let Caf = require('caffeine-script-runtime');
Caf.defMod(module, () => {return Caf.importInvoke(["BaseClass"], [global, require('art-standard-lib'), require('art-class-system')], (BaseClass) => {let SourceLineColumnMap; return SourceLineColumnMap = Caf.defClass(class SourceLineColumnMap extends BaseClass {constructor(_source) {let count; super(...arguments); this._source = _source; count = 0; this._lineOffsets = []; Caf.each2(this._source.split("\n"), (line) => {this._lineOffsets.push(count); return count += line.length + 1;});};}, function(SourceLineColumnMap, classSuper, instanceSuper) {this.getter("source"); this.prototype.getLineColumn = function(offset, _into) {let lineOffsets, i, j, column, line; lineOffsets = this._lineOffsets; i = 0; j = lineOffsets.length - 1; while (i < j) {let m; if (i === j - 1) {if (lineOffsets[j] <= offset) {i = j;} else {j = i;};} else {m = (i + j) / 2 | 0; if (lineOffsets[m] > offset) {j = m;} else {i = m;};};}; column = offset - lineOffsets[line = i]; return _into ? (_into.column = column, _into.line = line, _into) : {column, line};}; this.prototype.getIndex = function(line, column) {return this._lineOffsets[line] + column;};});});});
//# sourceMappingURL=SourceLineColumnMap.js.map
